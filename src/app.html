<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta name="darkreader-lock" />
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>

<style>
	.fade-in {
		opacity: 0;
		transition: opacity 500ms ease-in;
	}

	.from-left {
		transform: translateX(-50%);
	}

	.from-right {
		transform: translateX(50%);
	}

	.fade-in-with-transition {
		opacity: 0;
		transition: opacity 500ms ease-in-out;
		transition-property: all;
		transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
		transition-duration: 0.3s;
	}

	.from-left,
	.from-right {
		transition: opacity 250ms ease-in, transform 300ms ease-in;
	}

	.from-left.appear,
	.from-right.appear {
		transform: translateX(0);
	}

	.fade-in.appear {
		opacity: 1;
	}

	.fade-in-with-transition.appear {
		opacity: 1;
	}
</style>

<script>
	const faders = document.querySelectorAll('.fade-in');
	const fadersWithTransition = document.querySelectorAll('.fade-in-with-transition');
	const sliders = document.querySelectorAll('.slide-in');

	const appearOptions = {
		threshhold: 1,
		rootMargin: '0px 0px -50px 0px'
	};
	const appearOnScroll = new IntersectionObserver(function (entries, appearOnScroll) {
		entries.forEach((entry) => {
			if (!entry.isIntersecting) {
				return;
			} else {
				entry.target.classList.add('appear');
				// appearOnScroll.unobserve(entry.target); not removing for now as it is causing issues with the fade in
			}
		});
	}, appearOptions);

	faders.forEach((fader) => {
		appearOnScroll.observe(fader);
	});

	sliders.forEach((slider) => {
		appearOnScroll.observe(slider);
	});

	fadersWithTransition.forEach((fader) => {
		appearOnScroll.observe(fader);
	});
</script>
